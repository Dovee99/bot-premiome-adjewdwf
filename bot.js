const Discord = require('discord.js');
const client = new Discord.Client();

 client.on('message', message => {
              if(!message.channel.guild) return;
    var prefix = "+";
    if(message.content.startsWith(prefix + 'bc')) {
    if(!message.channel.guild) return message.channel.send('**Ù‡Ø°Ø§ Ø§Ù„Ø£Ù…Ø± ÙÙ‚Ø· Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª**').then(m => m.delete(5000));
  if(!message.member.hasPermission('ADMINISTRATOR')) return      message.channel.send('**Ù„Ù„Ø£Ø³Ù Ù„Ø§ ØªÙ…ØªÙ„Ùƒ ØµÙ„Ø§Ø­ÙŠØ©** `ADMINISTRATOR`' );
    let args = message.content.split(" ").join(" ").slice(2 + prefix.length);
    let copy = "alpha codes";
    let request = `Requested By ${message.author.username}`;
    if (!args) return message.reply('```**ÙŠØ¬Ø¨ Ø¹Ù„ÙŠÙƒ ÙƒØªØ§Ø¨Ø© ÙƒÙ„Ù…Ø© Ø§Ùˆ Ø¬Ù…Ù„Ø© Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª**```');message.channel.send(`**Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø±Ø³Ø§Ù„Ùƒ Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³ØªØŸ \nÙ…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¨Ø±ÙˆØ¯ÙƒØ§Ø³Øª:** \` ${args}\``).then(msg => {
    msg.react('âœ…')
    .then(() => msg.react('âŒ'))
    .then(() =>msg.react('âœ…'))

    let reaction1Filter = (reaction, user) => reaction.emoji.name === 'âœ…' && user.id === message.author.id;
    let reaction2Filter = (reaction, user) => reaction.emoji.name === 'âŒ' && user.id === message.author.id;

    let reaction1 = msg.createReactionCollector(reaction1Filter, { time: 12000 });
    let reaction2 = msg.createReactionCollector(reaction2Filter, { time: 12000 });
    reaction1.on("collect", r => {
    message.channel.send(`â˜‘ | Done ... The Broadcast Message Has Been Sent For ${message.guild.members.size} Members`).then(m => m.delete(5000));
    message.guild.members.forEach(m => {
    var bc = new
       Discord.RichEmbed()
       .setColor('RANDOM')
       .setTitle('Broadcast')
       .addField('Server', message.guild.name)
       .addField('Sender', message.author.username)
       .addField('Message', args)
       .setThumbnail(message.author.avatarURL)
       .setFooter(copy, client.user.avatarURL);
    m.send({ embed: bc })
    msg.delete();
    })
    })
    reaction2.on("collect", r => {
    message.channel.send(`**Broadcast Canceled.**`).then(m => m.delete(5000));
    msg.delete();
    })
    })
    }
    });



var eprefix = '+';
client.on('message', msg => {

  if (msg.author.bot) return;
  if (!msg.content.startsWith(eprefix)) return;
  let command = msg.content.split(" ")[0];
  command = command.slice(prefix.length);
  let args = msg.content.split(" ").slice(1);
 
    if(command === "clear") {
        const emoji = client.emojis.find("name", "wastebasket")
    let textxt = args.slice(0).join("");
    if(msg.member.hasPermission("MANAGE_MESSAGES")) {
    if (textxt == "") {
        msg.delete().then
    msg.channel.send("***```Ø¶Ø¹ Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ù…Ø³Ø­Ù‡Ø§ ðŸ‘Œ```***").then(m => m.delete(3000));
} else {
    msg.delete().then
    msg.delete().then
    msg.channel.bulkDelete(textxt);
        msg.channel.send("```php\nØ¹Ø¯Ø¯ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙŠ ØªÙ… Ù…Ø³Ø­Ù‡Ø§: " + textxt + "\n```").then(m => m.delete(3000));
        }    
    }
}
});



client.on('message', function(msg) {
      
    if(msg.content.startsWith (prefixm + 'stats')) {
      if(!msg.channel.guild) return msg.reply('**âŒ Ø§Ø³Ù Ù„ÙƒÙ† Ù‡Ø°Ø§ Ø§Ù„Ø§Ù…Ø± Ù„Ù„Ø³ÙŠØ±ÙØ±Ø§Øª ÙÙ‚Ø· **');
      let embed = new Discord.RichEmbed()
      .setColor('RANDOM')
      .setThumbnail(msg.guild.iconURL)
      .addField('ðŸŒ **Ø§Ø³Ù… Ø§Ù„Ø³ÙŠØ±ÙØ± : **' , `**[ ${msg.guild.name} ]**`,true)
      .addField('ðŸŒ ** Ø¨Ù„Ø¯ Ø§Ù„Ø³ÙŠØ±ÙØ± :**',`**[ ${msg.guild.region} ]**`,true)
      .addField('ðŸŽ–** Ø§Ù„Ø±ØªØ¨ :**',`**[ ${msg.guild.roles.size} ]**`,true)
      .addField('ðŸ‘¤** Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ :**',`**[ ${msg.guild.memberCount} ]**`,true)
      .addField('âœ…** Ø¹Ø¯Ø¯ Ø§Ù„Ø§Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø§ÙˆÙ†Ù„Ø§ÙŠÙ† :**',`**[ ${msg.guild.members.filter(m=>m.presence.status == 'online').size} ]**`,true)
      .addField('ðŸ“** Ø§Ù„Ø±ÙˆÙ…Ø§Øª Ø§Ù„ÙƒØªØ§Ø¨ÙŠØ© :**',`**[ ${msg.guild.channels.filter(m => m.type === 'text').size} ]**`,true)
      .addField('ðŸ”Š** Ø±ÙˆÙ…Ø§Øª Ø§Ù„ØµÙˆØª :**',`**[ ${msg.guild.channels.filter(m => m.type === 'voice').size} ]**`,true)
      .addField('ðŸ‘‘** ØµØ§Ø­Ø¨ Ø§Ù„Ø³ÙŠØ±ÙØ± :**',`**[ ${msg.guild.owner} ]**`,true)
      .addField('ðŸ†”** Ø§ÙŠØ¯ÙŠ Ø§Ù„Ø³ÙŠØ±ÙØ± :**',`**[ ${msg.guild.id} ]**`,true)
      .addField('ðŸ“…** ØªÙ… Ø¹Ù…Ù„ Ø§Ù„Ø³ÙŠØ±ÙØ± ÙÙŠ : **',msg.guild.createdAt.toLocaleString())
      .addField('ðŸ˜´** Ø±ÙˆÙ… AFK**',`**${msg.guild.afkChannel || 'None'}**`, true)
      .addField('ðŸ™ƒ** Ø§Ù„Ø§ÙŠÙ…ÙˆØ¬ÙŠØ§Øª :**', `**${msg.guild.emojis.size}** \`[\` **${msg.guild.emojis.map(m => m).join('**|**')} \`]\`**`, true);
      msg.channel.send({embed:embed});
    }
  });


client.on('message', message => {
            if (message.content.startsWith(prefix + "help")) {
     let embed = new Discord.RichEmbed()
.setThumbnail(message.author.avatarURL)
.addField('     **bc1** ' ,' **Ø¨Ø« Ø¬Ù…Ø§Ø¹ÙŠ + Ù„Ù„ÙƒÙ„ + Ù…Ø·ÙˆØ±** ')
.addField('     **bc2**  ' ,' **Ø¨Ø« Ø¬Ù…Ø§Ø¹ÙŠ + Ù„Ù„ÙƒÙ„ + ØºÙŠØ± Ù…Ø·ÙˆØ±** ')
.addField('     **bc3** ' , '**Ø¨Ø« Ø¬Ù…Ø§Ø¹ÙŠ + Ù„Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† + ØºÙŠØ± Ù…Ø·ÙˆØ± + Ù…Ù†Ø´Ù† Ù„Ù„Ø´Ø®Øµ**') 
.addField('     **bc4** ' , '**Ø¨Ø« Ø¬Ù…Ø§Ø¹ÙŠ + Ù„Ù„ÙƒÙ„ + ØºÙŠØ± Ù…Ø·ÙˆØ± + Ù…Ù†Ø´Ù† Ù„Ù„Ø´Ø®Øµ**') 
.addField('     **ping** ' ,' ** Ø³Ø±Ø¹Ø© Ø§ØªØµØ§Ù„ Ø§Ù„Ø¨ÙˆØª**')
.addField('     **ÙƒØª ØªÙˆÙŠØª** ' , '**Ù‡Ø°ÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„ÙƒØª ØªÙˆÙŠØª**')
.addField('     **Ù‡Ù„ ØªØ¹Ù„Ù… ** ' ,' **  Ù„Ø¹Ø¨Ø© Ù‡Ù„ ØªØ¹Ù„Ù…  ** ')
.addField('     **clear ** ' ,' **  Ù„Ù…Ø³Ø­ Ø§Ù„Ø´Ø§Øª Ø¨Ø¯ÙˆÙ† Ø±Ù‚Ù…  ** ')
.addField('     **say ** ' ,' **  Ø¹Ø´Ø§Ù† ÙŠØªÙƒÙ„Ù… Ø¹Ù†Ùƒ  ** ')
.setColor('#7d2dbe')
  message.channel.sendEmbed(embed);
    }
});



 
 
 
client.login(process.env.BOT_TOKEN);
